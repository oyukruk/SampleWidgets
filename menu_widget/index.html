<!DOCTYPE html>

<head>
  <link rel="stylesheet" href="./main.css" />
  <script src="deneme.js"></script>
</head>

<body>

  <div class="widget-container">
    <div class="left-tab">
      <div class="img-part">
        <img id="img1" src="./assets/burger.png" alt="">
      </div>
      <div id="title1" class="menu-name-part" ></div>
      <div class="menu-content">
        <div id="content1.1"></div>
        <div id="content1.2"></div>
        <div id="content1.3"></div>
      </div>
      <div class="menu-price">
        <div class="price-img"><img src="./assets/price.png" alt=""></div>
        <div class="price-text">29.90 TL</div>
      </div>
    </div>
    <div class="center-tab">
      <div class="img-part">
        <img src="./assets/burger.png" alt="">
      </div>
      <div class="menu-name-part">Beef Menu</div>
      <div class="menu-content">
        <div>content 1</div>
        <div>content 2</div>
        <div>content 3</div>
      </div>
      <div class="menu-price">
        <div class="price-img"><img src="./assets/price.png" alt=""></div>
        <div class="price-text">29.90 TL</div>
      </div>
    </div>
    <div class="right-tab">
      <div class="img-part">
        <img src="./assets/burger.png" alt="">
      </div>
      <div class="menu-name-part">Cheeseburger Menu</div>
      <div class="menu-content">
        <div>content 1</div>
        <div>content 2</div>
        <div>content 3</div>
      </div>
      <div class="menu-price">
        <div class="price-img"><img src="./assets/price.png" alt=""></div>
        <div class="price-text">29.90 TL</div>
      </div>
    </div>
  </div>

  <script>

    if (!String.prototype.formatString) {
        String.prototype.formatString = function () {
            var args = arguments;
            return this.replace(/{(\d+)}/g, function (match, number) {
                return typeof args[number] != 'undefined' ?
                args[number] :
                match;
            });
        };
     }


      $(document).ready(function () {

      var myGenerator = new MockDataGenerator();
      var generatedObject = myGenerator.fetchRandomObject();
      
      $("#title1").text(generatedObject.Title);
      $("#content1.1").text(generatedObject.contents[0]);
      $("#content1.2").text(generatedObject.contents[1]);
      $("#content1.3").text(generatedObject.contents[2]);
      
      generatedObject = myGenerator.fetchRandomObject();
      //ortadaki menu icin aynÄ± islemler..
      

      });




    // var params = [];
    // params.push({
    //     key: "Url",
    //     value: "https://www.google.com/maps/d/u/0/embed?mid=1ByJgR75lLE9L4MMqtVAmByErwrjKBm7q"
    // })
    // params.push({
    //     key: "FrameWidth",
    //     value: "300"
    // })
    // params.push({
    //     key: "FrameHeight",
    //     value: "600"
    // })
    // params.push({
    //     key: "FrameUniqueKey",
    //     value: "123213"
    // })
    // setParams(params)


    var FrameUniqueKey, FrameWidth, FrameHeight = '';
    var Url = "";

    function listener(event) {
      if (Array.isArray(event.data))
        setParams(event.data);
    }
    if (window.addEventListener) {
      window.addEventListener('message', listener, false);
    } else if (window.attachEvent) { // ie8
      window.attachEvent('onmessage', listener);
    }


    function init() {
      document.getElementById('googleIframe').setAttribute('width', FrameWidth);
      document.getElementById('googleIframe').setAttribute('height', FrameHeight);
      document.getElementById('googleIframe').setAttribute('src', Url);
      if (FrameUniqueKey != '') {
        window.parent.postMessage(JSON.stringify({
          type: 'init',
          frameUniqueKey: FrameUniqueKey
        }), '*');
      }
    }

    function setParams(params) {
      Url = "";
      FrameWidth = 0;
      FrameHeight = 0;
      params.forEach(element => {
        switch (element.key) {
          case "Url":
            Url = element.value;
            break;
          case "FrameUniqueKey":
            FrameUniqueKey = element.value;
            break;
          case "FrameWidth":
            FrameWidth = element.value;
            break;
          case "FrameHeight":
            FrameHeight = element.value;
            break;
        }
      });
      init();
    }
  </script>


</body>

</html>